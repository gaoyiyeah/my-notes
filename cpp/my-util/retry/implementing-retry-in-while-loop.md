https://stackoverflow.com/questions/30222287/implementing-retry-in-while-loop
